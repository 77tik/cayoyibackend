export default {
  // 查询所有流体仿真模拟工况
  'GET /api/fluid/conditions': (req: any, res: any) => {
    res.send({
      code: 8,
      data: {
        conditions: [
          {
            effective_head: 63, //有效水头
            active_power: 80, //有功功率
            load_to_output_ratio: 0, //负载输出比
            inlet_flow: 193, //进口流量
            outlet_pressure: 0.221, //出口压力
            runner_angular_velocity: 100, //转轮角速度
            guide_vane_opening: 48.655, //导叶开度
          },
          {
            effective_head: 63,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 203,
            outlet_pressure: 0.236,
            runner_angular_velocity: 100,
            guide_vane_opening: 51.507,
          },
          {
            effective_head: 63,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 224,
            outlet_pressure: 0.246,
            runner_angular_velocity: 100,
            guide_vane_opening: 55.442,
          },
          {
            effective_head: 63,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 367,
            outlet_pressure: 0.243,
            runner_angular_velocity: 100,
            guide_vane_opening: 79.187,
          },
          {
            effective_head: 63,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 422,
            outlet_pressure: 0.237,
            runner_angular_velocity: 100,
            guide_vane_opening: 92.418,
          },
          {
            effective_head: 65,
            active_power: 80,
            load_to_output_ratio: 0,
            inlet_flow: 127,
            outlet_pressure: 0.189,
            runner_angular_velocity: 100,
            guide_vane_opening: 48,
          },
          {
            effective_head: 65,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 65,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 65,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 65,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 429,
            outlet_pressure: 0.236,
            runner_angular_velocity: 100,
            guide_vane_opening: 91,
          },
          {
            effective_head: 67,
            active_power: 80,
            load_to_output_ratio: 0,
            inlet_flow: 187,
            outlet_pressure: 0.193,
            runner_angular_velocity: 100,
            guide_vane_opening: 46,
          },
          {
            effective_head: 67,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 67,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 67,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 67,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 399,
            outlet_pressure: 0.219,
            runner_angular_velocity: 100,
            guide_vane_opening: 83,
          },
          {
            effective_head: 70,
            active_power: 80,
            load_to_output_ratio: 0,
            inlet_flow: 170,
            outlet_pressure: 0.1575,
            runner_angular_velocity: 100,
            guide_vane_opening: 43.5,
          },
          {
            effective_head: 70,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 70,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 70,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 0,
            outlet_pressure: 0,
            runner_angular_velocity: 100,
            guide_vane_opening: 0,
          },
          {
            effective_head: 70,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 383,
            outlet_pressure: 0.195,
            runner_angular_velocity: 100,
            guide_vane_opening: 80,
          },
          {
            effective_head: 72,
            active_power: 80,
            load_to_output_ratio: 0,
            inlet_flow: 135,
            outlet_pressure: 0.15,
            runner_angular_velocity: 100,
            guide_vane_opening: 43.433,
          },
          {
            effective_head: 72,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 188,
            outlet_pressure: 0.165,
            runner_angular_velocity: 100,
            guide_vane_opening: 47.088,
          },
          {
            effective_head: 72,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 204,
            outlet_pressure: 0.169,
            runner_angular_velocity: 100,
            guide_vane_opening: 52,
          },
          {
            effective_head: 72,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 356,
            outlet_pressure: 0.178,
            runner_angular_velocity: 100,
            guide_vane_opening: 67,
          },
          {
            effective_head: 72,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 363,
            outlet_pressure: 0.173,
            runner_angular_velocity: 100,
            guide_vane_opening: 74.417,
          },
          {
            effective_head: 74,
            active_power: 80,
            load_to_output_ratio: 0,
            inlet_flow: 125,
            outlet_pressure: 0.197,
            runner_angular_velocity: 100,
            guide_vane_opening: 47.125,
          },
          {
            effective_head: 74,
            active_power: 95,
            load_to_output_ratio: 0,
            inlet_flow: 186,
            outlet_pressure: 0.144,
            runner_angular_velocity: 100,
            guide_vane_opening: 45,
          },
          {
            effective_head: 74,
            active_power: 110,
            load_to_output_ratio: 0,
            inlet_flow: 215,
            outlet_pressure: 0.155,
            runner_angular_velocity: 100,
            guide_vane_opening: 50,
          },
          {
            effective_head: 74,
            active_power: 200,
            load_to_output_ratio: 0,
            inlet_flow: 317,
            outlet_pressure: 0.154,
            runner_angular_velocity: 100,
            guide_vane_opening: 66.165,
          },
          {
            effective_head: 74,
            active_power: 230,
            load_to_output_ratio: 0,
            inlet_flow: 338,
            outlet_pressure: 0.157,
            runner_angular_velocity: 100,
            guide_vane_opening: 72.5,
          },
        ],
      },
      msg: 'mock data from Umi',
    });
  },

  // 查询流体仿真模拟结果
  'GET /api/fluid/result': (req: any, res: any) => {
    // const { effective_head, active_power } = req.query;

    // 可选：根据传参返回不同模拟值
    const mockResult = {
      code: 0,
      msg: 'ok',
      data: {
        // 网格数据
        mesh_json: '/api/static/fluid/case1/mesh.json',
        // 速度场相关数据
        velocity: {
          // 水平速度数据文件路径
          h: '/api/static/fluid/case1/velocity/H.json',
          // 垂直速度数据文件路径
          v: '/api/static/fluid/case1/velocity/V.json',
          // 流线数据文件路径
          stream_line: '/api/static/fluid/case1/velocity/StreamLine.json',
          // 蜗壳平均速度
          volute_average_velocity: 1.7242909603709522,
        },
        // 压力场相关数据
        pressure: {
          // 水平压力数据文件路径
          h: '/api/static/fluid/case1/pressure/H.json',
          // 垂直压力数据文件路径
          v: '/api/static/fluid/case1/pressure/V.json',
          // 蜗壳压力
          volute_pressure: 4764.977560272907,
        },

        // 空化分布相关数据
        vof: {
          // 空化网格数据文件路径
          mesh_json: '/api/static/fluid/case1/vof/mesh.json',
          // 空化体积分数数据文件路径
          vof: '/api/static/fluid/case1/vof/phase_1_vof.json',
          // 叶轮空化气泡数量
          runner_cavitation_bubble_count: 1.075519052322162,
          // 叶片空化面积
          blade_cavitation_area: 133.56279249664556,
        },

        // 涡带分布相关数据
        vortex: {
          // 涡流数据文件路径（Q准则）
          vortex: '/api/static/fluid/case1/vortex/raw_q_criterion.json',
          // 涡流集中位置
          vortex_concentration_location: '叶片',
        },
      },
    };

    res.send(mockResult);
  },

  // 查询应变监测数据
  'GET /api/strain_monitoring': (req: any, res: any) => {
    const points = [
      {
        timestamp: 1,
        one_upper: 13.77657558552052,
        one_door: 20.204531951388148,
        two_cover: 42.079345849999314,
        two_door: 14.521096175407955,
        three_cover: 27.069582412799974,
        three_door: null,
        four_cover: 1.9506313308741956,
        four_door: 22.117754746966398,
      },
      {
        timestamp: 4,
        one_upper: 3.4770855294932606,
        one_door: 2.393005385105269,
        two_cover: 15.103715845106073,
        two_door: 37.736158748543914,
        three_cover: 28.151793010792474,
        three_door: 17.717342531915783,
        four_cover: 7.057137765285219,
        four_door: 21.42747644381737,
      },
      {
        timestamp: 7,
        one_upper: null,
        one_door: 30.001748736166792,
        two_cover: 9.39121524298687,
        two_door: 38.25975011310714,
        three_cover: 1.6958427671230314,
        three_door: 42.50319462513304,
        four_cover: 38.29290272354754,
        four_door: 37.62677815155813,
      },
      {
        timestamp: 10,
        one_upper: null,
        one_door: 4.469964545137839,
        two_cover: 8.507503672341986,
        two_door: 13.415559149940147,
        three_cover: 27.272764490768644,
        three_door: 20.341940999655698,
        four_cover: 23.1064533746021,
        four_door: 37.94488667588328,
      },
      {
        timestamp: 13,
        one_upper: 13.78561786947266,
        one_door: 2.541428422152305,
        two_cover: 15.67022334612372,
        two_door: 8.819114077816648,
        three_cover: 23.175210722221305,
        three_door: 18.34106466839133,
        four_cover: 32.592299217408886,
        four_door: null,
      },
      {
        timestamp: 16,
        one_upper: 26.687076968896857,
        one_door: 38.45575463937468,
        two_cover: 19.364805816923248,
        two_door: 11.796577815055777,
        three_cover: null,
        three_door: 4.9249843625710135,
        four_cover: 43.377293962698346,
        four_door: 27.703631230025668,
      },
      {
        timestamp: 19,
        one_upper: 31.924498844807736,
        one_door: 20.275462449473036,
        two_cover: 8.4072782470483,
        two_door: 42.03265393647265,
        three_cover: 1.0387735636301554,
        three_door: 12.285434187372847,
        four_cover: 27.97699571685068,
        four_door: 27.527103445960655,
      },
      {
        timestamp: 22,
        one_upper: 4.032280052510552,
        one_door: 22.008088744295037,
        two_cover: 30.95597032017241,
        two_door: 35.52143071782241,
        three_cover: 10.91182782791047,
        three_door: 24.871672697648858,
        four_cover: 28.34751060977555,
        four_door: 6.392320540292266,
      },
      {
        timestamp: 25,
        one_upper: 37.9938184458608,
        one_door: 30.517262124459524,
        two_cover: 6.60208434055209,
        two_door: 9.055720098469937,
        three_cover: 11.38241382689149,
        three_door: 44.24019581674511,
        four_cover: 21.151348420518406,
        four_door: 22.862802375090425,
      },
      {
        timestamp: 28,
        one_upper: 43.164776648498105,
        one_door: 5.756674386150283,
        two_cover: 5.77334491921199,
        two_door: 28.007610871726342,
        three_cover: 8.385828503215006,
        three_door: 44.86865156848246,
        four_cover: 18.80024110878726,
        four_door: 9.063845776504818,
      },
      {
        timestamp: 31,
        one_upper: 25.406247907943424,
        one_door: null,
        two_cover: 16.23581608358623,
        two_door: 33.47597754003506,
        three_cover: 33.08613067777684,
        three_door: 30.550657060488145,
        four_cover: 9.336407327757852,
        four_door: 15.609959218288129,
      },
      {
        timestamp: 34,
        one_upper: 0.5809642067492027,
        one_door: 39.84022722274771,
        two_cover: 24.01834141924704,
        two_door: 39.007367012989185,
        three_cover: 27.07297897996373,
        three_door: 39.47212945982189,
        four_cover: 20.1963258573446,
        four_door: 15.722027947494944,
      },
      {
        timestamp: 37,
        one_upper: 12.174383887185583,
        one_door: 31.577713439128704,
        two_cover: 28.501061616157628,
        two_door: 3.7543763787845847,
        three_cover: 19.52431504738972,
        three_door: 8.23604643394028,
        four_cover: 34.06450000765002,
        four_door: null,
      },
      {
        timestamp: 40,
        one_upper: 37.55045564989994,
        one_door: 5.011104787498125,
        two_cover: 6.494237046579803,
        two_door: 28.564048710452084,
        three_cover: 22.5130645032071,
        three_door: null,
        four_cover: 22.76620635197316,
        four_door: 1.042803170412612,
      },
      {
        timestamp: 43,
        one_upper: 34.25637960170554,
        one_door: 18.16690400892884,
        two_cover: 30.323616201388706,
        two_door: 36.2112755082398,
        three_cover: 32.83900705600812,
        three_door: 2.883187561611393,
        four_cover: 13.121143092579485,
        four_door: 35.06864766709582,
      },
      {
        timestamp: 46,
        one_upper: 30.871353555530302,
        one_door: 35.12609402706369,
        two_cover: 30.29545368256399,
        two_door: 5.3472335485287195,
        three_cover: 23.547624998412257,
        three_door: 27.210903315991885,
        four_cover: 0.9891099198430572,
        four_door: 30.84551552100881,
      },
      {
        timestamp: 49,
        one_upper: 1.8429258276397071,
        one_door: 22.522149119512935,
        two_cover: 5.784900010011092,
        two_door: 44.675984267710646,
        three_cover: 2.4947230896548644,
        three_door: 2.416378887565611,
        four_cover: null,
        four_door: 12.228887070127746,
      },
      {
        timestamp: 52,
        one_upper: 28.708983825562502,
        one_door: 1.3784545474179288,
        two_cover: null,
        two_door: 1.7868362173539127,
        three_cover: 10.10920463549491,
        three_door: 11.008005970386941,
        four_cover: 29.404419318933066,
        four_door: 36.914030752231334,
      },
      {
        timestamp: 55,
        one_upper: 10.825626417894581,
        one_door: 12.133322409428667,
        two_cover: 38.293755650599664,
        two_door: 6.527210542278019,
        three_cover: 18.097992180312854,
        three_door: 12.990520868684197,
        four_cover: 38.651871164740776,
        four_door: 41.58997689766879,
      },
      {
        timestamp: 58,
        one_upper: 31.511066692990873,
        one_door: null,
        two_cover: 14.873525561186229,
        two_door: 2.583061045425561,
        three_cover: 31.680577432709633,
        three_door: 29.08856691593474,
        four_cover: 3.8710281019394563,
        four_door: 14.192322906005323,
      },
      {
        timestamp: 61,
        one_upper: 2.258597523955185,
        one_door: 0.4374316974720135,
        two_cover: 7.105726223956596,
        two_door: 33.744430219300106,
        three_cover: 41.84751513789702,
        three_door: 37.66853528433935,
        four_cover: 31.6276157236125,
        four_door: 23.025077448590327,
      },
      {
        timestamp: 64,
        one_upper: 23.74353531275985,
        one_door: 8.746256928481328,
        two_cover: 40.18520343694589,
        two_door: 2.1064673470767947,
        three_cover: 45.157867431962956,
        three_door: 17.417845922277774,
        four_cover: 11.356328413956907,
        four_door: 14.106673708116475,
      },
      {
        timestamp: 67,
        one_upper: 41.76911913605565,
        one_door: 32.19739053746374,
        two_cover: null,
        two_door: 10.967143627260217,
        three_cover: 18.686034308654236,
        three_door: null,
        four_cover: 15.721809211426018,
        four_door: 37.05148682486729,
      },
      {
        timestamp: 70,
        one_upper: 22.356255264304817,
        one_door: 40.21891176255789,
        two_cover: 34.1009179877961,
        two_door: 25.084497392957314,
        three_cover: 24.160225323949437,
        three_door: 21.483994427680205,
        four_cover: 11.69255089338716,
        four_door: 5.495640656824497,
      },
      {
        timestamp: 73,
        one_upper: 32.427586776672,
        one_door: 29.39607435903782,
        two_cover: 34.320935977315315,
        two_door: 25.36823161727789,
        three_cover: 18.959620465489863,
        three_door: 26.62213237393487,
        four_cover: 34.70298944493855,
        four_door: 42.70268191145065,
      },
      {
        timestamp: 76,
        one_upper: 8.440722954261537,
        one_door: null,
        two_cover: 4.905313029019143,
        two_door: 8.572395281108792,
        three_cover: 43.04415177939201,
        three_door: 17.70048293889435,
        four_cover: 13.922312790194399,
        four_door: 11.115649638445934,
      },
      {
        timestamp: 79,
        one_upper: 26.00828184159048,
        one_door: 38.60526429996206,
        two_cover: 31.05241222592954,
        two_door: 21.794293051791062,
        three_cover: 0.7567901940556252,
        three_door: 21.814992403431717,
        four_cover: 22.93720794046938,
        four_door: 12.823264049987998,
      },
      {
        timestamp: 82,
        one_upper: 40.07318710743555,
        one_door: 22.71364281735292,
        two_cover: 11.259674808879865,
        two_door: 33.662720219673936,
        three_cover: null,
        three_door: 3.4595153261326037,
        four_cover: 42.654203378794044,
        four_door: 11.068423621608526,
      },
      {
        timestamp: 85,
        one_upper: 11.808384623794288,
        one_door: 39.772081823093245,
        two_cover: 12.213931225720104,
        two_door: 15.946340114119948,
        three_cover: 9.416613643268684,
        three_door: 11.028740132228604,
        four_cover: 2.1520237037769587,
        four_door: 17.46714680420119,
      },
      {
        timestamp: 88,
        one_upper: 27.15860265710338,
        one_door: 16.409378302730207,
        two_cover: 27.10090278814873,
        two_door: 42.26879162625999,
        three_cover: 9.250745391125692,
        three_door: 9.55676809511098,
        four_cover: 6.021309124824138,
        four_door: 15.104487974256584,
      },
      {
        timestamp: 91,
        one_upper: 32.82256026184347,
        one_door: 38.39436020454808,
        two_cover: 23.262039699501518,
        two_door: 19.656411845898155,
        three_cover: 2.61743471392362,
        three_door: 21.769347322363753,
        four_cover: 12.428232499004805,
        four_door: 26.152636327461448,
      },
      {
        timestamp: 94,
        one_upper: 22.60945081819179,
        one_door: 9.739743348151903,
        two_cover: 23.262939616330257,
        two_door: null,
        three_cover: 21.00653199659371,
        three_door: 34.375056126372556,
        four_cover: 43.905779982045864,
        four_door: 44.43479571124826,
      },
      {
        timestamp: 97,
        one_upper: 8.26953590120151,
        one_door: 14.326466042886283,
        two_cover: 43.28263004003834,
        two_door: 31.85592446747199,
        three_cover: 38.33383404669552,
        three_door: null,
        four_cover: 5.361882267728409,
        four_door: 18.575057357934153,
      },
      {
        timestamp: 100,
        one_upper: 21.272721332824517,
        one_door: 4.216065820731223,
        two_cover: 37.30511744772085,
        two_door: 36.29540040208996,
        three_cover: 15.725731909907863,
        three_door: 4.718321820915355,
        four_cover: 31.07652514866408,
        four_door: 32.768083998532994,
      },
      {
        timestamp: 103,
        one_upper: 30.532853030644223,
        one_door: 30.484816829534765,
        two_cover: 7.602785535058117,
        two_door: 40.49318433355752,
        three_cover: 19.327938150774678,
        three_door: 31.408911540667486,
        four_cover: 26.48607218744171,
        four_door: 17.97106912370119,
      },
      {
        timestamp: 106,
        one_upper: 14.358094804628053,
        one_door: 40.117268693840494,
        two_cover: 44.55463162096256,
        two_door: 1.2899739232354264,
        three_cover: 6.543635983192831,
        three_door: 6.98252971083828,
        four_cover: 35.70432337922669,
        four_door: 34.39037629710757,
      },
      {
        timestamp: 109,
        one_upper: 28.315035029286054,
        one_door: 26.7227143920718,
        two_cover: 9.320945331756796,
        two_door: 1.365523016185662,
        three_cover: 25.649840486640404,
        three_door: 42.34728141781566,
        four_cover: 7.1885716477379855,
        four_door: 16.784067264849533,
      },
    ];
    res.send({
      code: 0,
      msg: 'ok',
      data: { points },
    });
  },

  // 模型 - 大文件直接读取静态文件
  'GET /api/static/fluid/case1/mesh.json': (req: any, res: any) => {
    const fs = require('fs');
    const path = require('path');

    try {
      // 读取静态JSON文件
      const filePath = path.join(
        __dirname,
        '../public/static/fluid/case1/mesh.json',
      );
      const data = fs.readFileSync(filePath, 'utf8');
      const jsonData = JSON.parse(data);
      res.json(jsonData);
    } catch (error) {
      console.error('读取模型文件失败:', error);
      // 如果文件不存在，返回一个简化的示例数据
      res.json({
        type: 'BufferGeometry',
        uuid: 'sample-mesh-uuid',
        metadata: { type: 'BufferGeometry', version: 4.5 },
        attributes: {
          position: {
            itemSize: 3,
            type: 'Float32Array',
            array: [0, 0, 0, 1, 0, 0, 0, 1, 0],
          },
          normal: {
            itemSize: 3,
            type: 'Float32Array',
            array: [0, 0, 1, 0, 0, 1, 0, 0, 1],
          },
          velocity: {
            itemSize: 1,
            type: 'Float32Array',
            array: [0.5, 1.0, 1.5],
          },
          total_pressure: {
            itemSize: 1,
            type: 'Float32Array',
            array: [101325, 102000, 103000],
          },
          phase_1_vof: {
            itemSize: 1,
            type: 'Float32Array',
            array: [0.0, 0.5, 1.0],
          },
          raw_q_criterion: {
            itemSize: 1,
            type: 'Float32Array',
            array: [-100, 0, 100],
          },
        },
        userData: {
          time: '2024-01-15T10:30:00Z',
          velocity: { MaxValue: 2.5, MinValue: 0.0 },
          total_pressure: { MaxValue: 105000, MinValue: 101325 },
          phase_1_vof: { MaxValue: 1.0, MinValue: 0.0 },
          raw_q_criterion: { MaxValue: 1500, MinValue: -1200 },
        },
      });
    }
  },
};
